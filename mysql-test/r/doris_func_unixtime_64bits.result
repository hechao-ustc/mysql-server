# -- New tests added for 64 bits UNIXTIME
"Explicit timezone indication: different code path than UTC"
SET time_zone = "+00:00";
Overflow
SELECT FROM_UNIXTIME(32536771200);
from_unixtime(32536771200)
3001-01-19 00:00:00
SELECT UNIX_TIMESTAMP('3001-01-19 00:00:00');
unix_timestamp('3001-01-19 00:00:00')
0
SET time_zone = "+01:00";
# East of UTC
SELECT FROM_UNIXTIME(32536771199);
from_unixtime(32536771199)
3001-01-19 00:59:59
SELECT UNIX_TIMESTAMP('3001-01-19 00:59:59');
unix_timestamp('3001-01-19 00:59:59')
0
Overflow
SELECT FROM_UNIXTIME(32536771200);
from_unixtime(32536771200)
3001-01-19 01:00:00
SELECT UNIX_TIMESTAMP('3001-01-19 01:00:00');
unix_timestamp('3001-01-19 01:00:00')
0
SET time_zone = "-01:00";
# West of UTC
SELECT FROM_UNIXTIME(32536771199);
from_unixtime(32536771199)
3001-01-18 22:59:59
SELECT UNIX_TIMESTAMP('3001-01-18 22:59:59');
unix_timestamp('3001-01-18 22:59:59')
0
# Overflow:
SELECT FROM_UNIXTIME(32536771200);
from_unixtime(32536771200)
3001-01-18 23:00:00
SELECT UNIX_TIMESTAMP('3001-01-18 23:59:59');
unix_timestamp('3001-01-18 23:59:59')
0
SET TIME_ZONE = "US/Pacific";
SELECT FROM_UNIXTIME(32536771199);
from_unixtime(32536771199)
3001-01-18 15:59:59
SELECT UNIX_TIMESTAMP('3001-01-18 15:59:59');
unix_timestamp('3001-01-18 15:59:59')
0
# Overflow:
SELECT UNIX_TIMESTAMP('3001-01-18 16:00:00');
unix_timestamp('3001-01-18 16:00:00')
0
Extreme values
SELECT FROM_UNIXTIME(9223372036854775807);
from_unixtime(9223372036854775807)
1969-12-31 15:59:59
SET time_zone = DEFAULT;
